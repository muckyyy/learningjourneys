<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Asset Integration Test</title>
    <link href="css/app.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-5">
        <h1 class="text-primary">Asset Integration Test</h1>
        <div class="alert alert-success" role="alert">
            <i class="bi bi-check-circle"></i> Bootstrap is loaded from compiled assets
        </div>
        
        <div class="card mt-3">
            <div class="card-header">
                <i class="bi bi-info-circle"></i> Bootstrap Icons Test
            </div>
            <div class="card-body">
                <p>Icons should display properly:</p>
                <i class="bi bi-house-door"></i> Home
                <i class="bi bi-person"></i> Person
                <i class="bi bi-gear"></i> Settings
                <i class="bi bi-chat-dots"></i> Chat
            </div>
        </div>

        <div class="card mt-3">
            <div class="card-header">
                <i class="bi bi-broadcast"></i> WebSocket Test
            </div>
            <div class="card-body">
                <button id="testWebSocket" class="btn btn-primary">Test WebSocket Connection</button>
                <div id="wsStatus" class="mt-2"></div>
            </div>
        </div>
    </div>

    <script src="js/app.js"></script>
    <script>
        // Test WebSocket functionality
        document.getElementById('testWebSocket').addEventListener('click', function() {
            const statusDiv = document.getElementById('wsStatus');
            
            if (typeof Pusher === 'undefined') {
                statusDiv.innerHTML = '<div class="alert alert-danger">‚ùå Pusher not available from compiled assets</div>';
                return;
            }
            
            statusDiv.innerHTML = '<div class="alert alert-success">‚úÖ Pusher is available from compiled assets</div>';
            
            if (typeof Echo !== 'undefined') {
                statusDiv.innerHTML += '<div class="alert alert-success">‚úÖ Laravel Echo is available from compiled assets</div>';
                
                try {
                    // Test Echo connection (this will fail if Reverb isn't running, but shows the code is loaded)
                    Echo.private('test-channel');
                    statusDiv.innerHTML += '<div class="alert alert-info">üì° Echo connection attempted (Reverb server needed for full functionality)</div>';
                } catch (error) {
                    statusDiv.innerHTML += '<div class="alert alert-warning">‚ö†Ô∏è Echo loaded but connection failed: ' + error.message + '</div>';
                }
            } else {
                statusDiv.innerHTML += '<div class="alert alert-warning">‚ùå Laravel Echo not available</div>';
            }
        });

        // Test Bootstrap JavaScript functionality
        document.addEventListener('DOMContentLoaded', function() {
            console.log('‚úÖ Bootstrap JavaScript loaded:', typeof bootstrap !== 'undefined' ? 'Yes' : 'No');
            console.log('‚úÖ Pusher loaded:', typeof Pusher !== 'undefined' ? 'Yes' : 'No');
            console.log('‚úÖ Laravel Echo loaded:', typeof Echo !== 'undefined' ? 'Yes' : 'No');
        });
    </script>
</body>
</html>